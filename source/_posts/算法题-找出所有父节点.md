---
title: 算法题-找出所有父节点
date: 2019-07-28 15:54:18
tags: JavaScript
categories: 算法
---

## 算法题
 
已知数据格式，实现一个函数 fn 找出链条中所有的父级id

```js
var json = [
	{
		id: '1',
		name: '广东省',
		children: [
			{
				id: '11',
				name: '深圳市',
				children: [
					{
						id: '111',
						name: '福田区',
						children: []
					},
					{
						id: '112',
						name: '龙华区',
						children: []
					}
				]
			}
		]
	}
]
```

```js
	const value = '112'
	const fn = (value) => {
		
	}
	fn(value) // 输出 ['1'， '11'， '112']
```

## 方法

### 方法一 递归实现深度遍历，并添加path数组，记录父路径

```js
	var value = '112';
	var fn = (value) => {
		var stack = json;
		do {
			var node = stack.pop();debugger
			if(node.children.length) {
				stack.push(...node.children.map(x=>({...x, path: (node.path || node.id) + '-' + x.id})))
			}
			if(node.id === value) {
				return node.path.split('-')
			}
		}while(stack.length) 
	    
	};
	fn(value) // 输出 [1， 11， 112]
```